# Building documentation

The documentation is hosted on [Github Pages](https://pages.github.com/).

You may easily test the documentation locally using the guildline [here](https://docs.github.com/en/github/working-with-github-pages/testing-your-github-pages-site-locally-with-jekyll). 

After installing all necessary components it may be previewed using the command:

  ```bash
  bundle exec jekyll build
  ```

The documentation folder contains file [api.md](api.md) which is generated by running:

  ```bash
  bazel build //docs:my-docs --spawn_strategy=standalone
  ```

The target uses [stardoc](https://github.com/bazelbuild/stardoc) to extract API documentation into single markup file.  
The file is generated in bazel-bin/docs folder, therefore if API documentation is updated it should be copied to
docs folder:

  ```bash
  cp -f bazel-bin/docs/api.md docs
  ```

It is recommended to syntax check the documentation before publishing it:

  ```bash
  bundle exec jekyll build
  bundle exec htmlproofer ./_site
  ```
